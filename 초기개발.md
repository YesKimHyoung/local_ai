네, NestJS + PostgreSQL 기반으로
“한 번의 질문에 4개 로컬 AI 모델(DeepSeek-R1:8b, Qwen2.5:14b, Gemma3:4b, Llama3.1:8b)의 답변을 동시에 받아 비교하는 웹 UI”를 만드는
개발 시방서를 정리해드릴게요.
프로젝트명

MultiOllamaComparer (또는 AI Response Comparator)
1. 프로젝트 목적 및 범위

    목적
    사용자가 한 번 입력한 질문을 4개 Ollama 모델에 동시에 보내고,
    각 모델의 응답 + 응답 시간 + (옵션) 품질 지표를 웹 화면에서 나란히 비교할 수 있게 함.
    범위 (MVP - Minimum Viable Product)
        웹 UI에서 질문 입력
        4개 모델 병렬 호출 → 응답 수집
        응답 + 소요 시간 화면에 표시 (4열 또는 4카드 레이아웃)
        PostgreSQL에 질문·응답 히스토리 저장
        히스토리 목록 조회 (최근 50건)
        기본 에러 처리 (모델 미설치, Ollama 서버 다운 등)
    제외 범위 (나중 확장 가능)
        사용자 인증 / 로그인
        실시간 스트리밍 응답
        모델 선택 UI (현재는 4개 고정)
        프롬프트 템플릿 / 시스템 프롬프트 커스터마이징
        응답 평가(좋아요/싫어요) 기능

2. 기술 스택 (2026년 1월 기준 추천)
영역	기술 선택	이유 / 대안
백엔드	NestJS 10.x + TypeScript	구조화·타입 안전·확장성 최고
ORM	Prisma	타입 자동 생성·마이그레이션 편리 (TypeORM도 OK)
DB	PostgreSQL 16	JSONB 지원·확장성·무료 서버리스 옵션 많음
AI 연동	ollama npm 패키지	가장 가벼움 (langchain.js도 가능)
프론트엔드	React 18 + Vite + TypeScript	빠른 개발·핫 리로드 (Next.js도 OK)
스타일링	Tailwind CSS + shadcn/ui	빠르고 예쁨 (MUI, Chakra UI 대안)
상태 관리	Zustand 또는 React Context	간단한 앱이니 복잡한 Redux 불필요
API 통신	Axios 또는 fetch	-
CORS / 서버	NestJS 내장 CORS + pm2 (프로덕션)	-
컨테이너	Docker + docker-compose (옵션)	나중에 배포 시
3. 데이터베이스 스키마 (Prisma 기준)
prisma

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model QueryLog {
  id          Int       @id @default(autoincrement())
  query       String
  createdAt   DateTime  @default(now())
  ipAddress   String?   // 옵션: 사용자 식별용
  responses   Json[]    // [{model, response, time, error?}]
  duration    Float?    // 전체 소요 시간 (초)
}

4. API 엔드포인트 설계
Method	Path	설명	Request Body	Response
POST	/api/compare	질문 → 4모델 비교 응답	{ "query": "string" }	[{model, response, time, error?}]
GET	/api/history	최근 히스토리 목록 (최대 50건)	query params: limit=20, offset=0	[{id, query, createdAt, ...}]
GET	/api/history/:id	특정 로그 상세 조회	-	QueryLog 객체
5. 프로젝트 구조 (추천)
text

multi-ai-comparer/
├── backend/                  # NestJS
│   ├── src/
│   │   ├── ai/               # 핵심 모듈
│   │   │   ├── ai.controller.ts
│   │   │   ├── ai.service.ts
│   │   │   ├── ai.module.ts
│   │   ├── prisma/
│   │   │   └── prisma.service.ts
│   │   ├── app.module.ts
│   │   └── main.ts
│   ├── prisma/
│   │   └── schema.prisma
│   └── .env
│
├── frontend/                 # React + Vite
│   ├── src/
│   │   ├── components/
│   │   │   ├── ResponseCard.tsx
│   │   │   ├── QueryForm.tsx
│   │   │   └── HistoryList.tsx
│   │   ├── pages/
│   │   │   └── Home.tsx
│   │   ├── hooks/
│   │   │   └── useAiCompare.ts
│   │   ├── App.tsx
│   │   └── main.tsx
│   └── tailwind.config.js
│
├── docker-compose.yml        # 옵션
└── README.md

6. 개발 단계별 체크리스트

    PostgreSQL 설치 & DB 생성 (위 명령어 참고)
    NestJS 프로젝트 생성 & Prisma 연결
    AiModule, AiService, AiController 구현
    Ollama 서버 실행 & 4개 모델 pull 확인
    프론트엔드 Vite 프로젝트 생성 & Tailwind + shadcn/ui 설정
    QueryForm → API 호출 → 4개 카드 렌더링 구현
    HistoryList 페이지 + Prisma 조회 구현
    에러 핸들링 & 로딩 상태 UI
    pm2 또는 nodemon으로 백엔드 실행
    전체 테스트 (질문 5~10개 입력 → 응답 시간·내용 비교)
